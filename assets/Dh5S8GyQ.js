import{d as R,r as h,k as S,o as V,y as p,z as u,A as e,G as w,J as j,K as P,I as A,H as s,C as i,B as c,M as N,E as x,_ as L,N as X,V as Y,W as ee,X as te,R as T,L as se,Q as oe,Y as ne,Z as ae,$ as re,a0 as le,a1 as ie,q as G,a2 as ce}from"#entry";import{_ as de,a as me}from"./DedoRHNS.js";const ue={class:"space-y-4"},ge={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},fe=["onClick"],pe={class:"flex items-center justify-between mb-2"},xe={class:"font-semibold text-gray-900"},ve={class:"text-sm text-gray-600 mb-3"},ye={class:"flex items-center space-x-1"},_e={class:"flex space-x-1"},be={class:"flex flex-wrap gap-1 mt-2"},he={class:"text-center pt-2"},we=["disabled"],$e={key:0,class:"bg-gray-50 rounded-lg p-4"},ke={class:"font-medium text-gray-900 mb-2 flex items-center"},Ce={class:"space-y-2 text-sm text-gray-600"},Ie={class:"flex justify-between"},Se={class:"flex justify-between"},Ae={class:"flex justify-between"},Re={class:"flex justify-between"},Ne={class:"mt-3 p-2 bg-blue-50 rounded border-l-4 border-blue-400"},De={class:"text-sm text-blue-700"},je=R({__name:"AIDifficultySelector",emits:["start-game"],setup(D,{emit:l}){const a=l,o=h(null),r=h(!1),g=[{level:"easy",name:"ç®€å•",description:"é€‚åˆæ–°æ‰‹ç©å®¶ï¼ŒAIä¼šçŠ¯ä¸€äº›å°é”™è¯¯",icon:"user",stars:2,color:"bg-green-500",features:["åŸºç¡€ç­–ç•¥","ååº”è¾ƒæ…¢","å¶æœ‰å¤±è¯¯"],reactionTime:"2-4ç§’",strategy:"åŸºç¡€",memory:"ä¸€èˆ¬",winRate:"ç©å®¶èƒœç‡ 70%+",recommendation:"æ¨èç»™åˆšæ¥è§¦æ–—åœ°ä¸»çš„æ–°æ‰‹ç©å®¶ï¼Œå¯ä»¥è½»æ¾ä¸Šæ‰‹"},{level:"normal",name:"æ™®é€š",description:"å¹³è¡¡çš„AIå¯¹æ‰‹ï¼Œæä¾›æœ‰æŒ‘æˆ˜æ€§çš„æ¸¸æˆä½“éªŒ",icon:"users",stars:3,color:"bg-blue-500",features:["å¹³è¡¡ç­–ç•¥","æ­£å¸¸ååº”","å¶å°”é…åˆ"],reactionTime:"1-2ç§’",strategy:"ä¸­ç­‰",memory:"è‰¯å¥½",winRate:"ç©å®¶èƒœç‡ 50%",recommendation:"é€‚åˆæœ‰ä¸€å®šç»éªŒçš„ç©å®¶ï¼Œæä¾›å…¬å¹³çš„å¯¹æˆ˜ä½“éªŒ"},{level:"hard",name:"å›°éš¾",description:"é«˜æ™ºèƒ½AIï¼Œä¼šä½¿ç”¨é«˜çº§ç­–ç•¥å’Œå®Œç¾é…åˆ",icon:"robot",stars:5,color:"bg-red-500",features:["é«˜çº§ç­–ç•¥","å¿«é€Ÿååº”","å®Œç¾é…åˆ","è®°ç‰Œç²¾å‡†"],reactionTime:"0.5-1ç§’",strategy:"é«˜çº§",memory:"å®Œç¾",winRate:"ç©å®¶èƒœç‡ 30%",recommendation:"æŒ‘æˆ˜é«˜æ‰‹ç©å®¶ï¼ŒAIä¼šä½¿ç”¨æœ€ä¼˜ç­–ç•¥ï¼Œéœ€è¦å¾ˆå¼ºçš„æŠ€å·§æ‰èƒ½è·èƒœ"}],m=S(()=>g.find(v=>v.level===o.value)||null),$=v=>{o.value=v},k=async()=>{if(!(!o.value||r.value)){r.value=!0;try{await new Promise(v=>setTimeout(v,500)),a("start-game",o.value)}catch(v){console.error("å¯åŠ¨æ¸¸æˆå¤±è´¥:",v)}finally{r.value=!1}}};return V(()=>{o.value="normal"}),(v,f)=>{const _=N;return u(),p("div",ue,[e("div",ge,[(u(),p(j,null,P(g,y=>e("button",{key:y.level,onClick:b=>$(y.level),class:A(["p-4 rounded-lg border-2 transition-all duration-200 text-left",s(o)===y.level?"border-primary-500 bg-primary-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"])},[e("div",pe,[e("h3",xe,c(y.name),1),i(_,{name:y.icon,class:"w-5 h-5 text-gray-600"},null,8,["name"])]),e("p",ve,c(y.description),1),e("div",ye,[f[0]||(f[0]=e("span",{class:"text-xs text-gray-500"},"éš¾åº¦:",-1)),e("div",_e,[(u(),p(j,null,P(5,b=>e("div",{key:b,class:A(["w-2 h-2 rounded-full",b<=y.stars?y.color:"bg-gray-200"])},null,2)),64))])]),e("div",be,[(u(!0),p(j,null,P(y.features,b=>(u(),p("span",{key:b,class:"inline-block px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full"},c(b),1))),128))])],10,fe)),64))]),e("div",he,[e("button",{onClick:k,disabled:!s(o)||s(r),class:"btn btn-primary btn-lg px-8"},[i(_,{name:s(r)?"spinner":"play",class:A(["w-5 h-5 mr-2",{"animate-spin":s(r)}])},null,8,["name","class"]),x(" "+c(s(r)?"å¯åŠ¨ä¸­...":"å¼€å§‹æ¸¸æˆ"),1)],8,we)]),s(m)?(u(),p("div",$e,[e("h4",ke,[i(_,{name:s(m).icon,class:"w-4 h-4 mr-2"},null,8,["name"]),x(" "+c(s(m).name)+" éš¾åº¦è¯¦æƒ… ",1)]),e("div",Ce,[e("div",Ie,[f[1]||(f[1]=e("span",null,"AIååº”é€Ÿåº¦:",-1)),e("span",null,c(s(m).reactionTime),1)]),e("div",Se,[f[2]||(f[2]=e("span",null,"ç­–ç•¥å¤æ‚åº¦:",-1)),e("span",null,c(s(m).strategy),1)]),e("div",Ae,[f[3]||(f[3]=e("span",null,"è®°ç‰Œèƒ½åŠ›:",-1)),e("span",null,c(s(m).memory),1)]),e("div",Re,[f[4]||(f[4]=e("span",null,"èƒœç‡é¢„æœŸ:",-1)),e("span",null,c(s(m).winRate),1)])]),e("div",Ne,[e("p",De,[i(_,{name:"info",class:"w-4 h-4 inline mr-1"}),x(" "+c(s(m).recommendation),1)])])])):w("",!0)])}}}),Pe=L(je,[["__scopeId","data-v-0bc0c2d4"]]),Te={class:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-3"},Ge={class:"flex items-center"},Me={class:"space-y-2"},Ve={class:"text-center"},Le={class:"room-code text-green-800 bg-green-100"},Be={class:"flex space-x-2"},ze=R({__name:"RoomCreatedInfo",props:{roomCode:{}},emits:["copy-code","share-link"],setup(D){return(l,a)=>{const o=N;return u(),p("div",Te,[e("div",Ge,[i(o,{name:"check-circle",class:"w-5 h-5 text-green-500 mr-2"}),a[2]||(a[2]=e("h3",{class:"text-sm font-medium text-green-800"}," æˆ¿é—´åˆ›å»ºæˆåŠŸï¼ ",-1))]),e("div",Me,[e("div",Ve,[e("div",Le,c(l.roomCode),1)]),e("div",Be,[e("button",{onClick:a[0]||(a[0]=r=>l.$emit("copy-code",l.roomCode)),class:"btn btn-sm btn-success flex-1"},[i(o,{name:"copy",class:"w-4 h-4 mr-1"}),a[3]||(a[3]=x(" å¤åˆ¶æˆ¿é—´ç  ",-1))]),e("button",{onClick:a[1]||(a[1]=r=>l.$emit("share-link",l.roomCode)),class:"btn btn-sm btn-success flex-1"},[i(o,{name:"share",class:"w-4 h-4 mr-1"}),a[4]||(a[4]=x(" åˆ†äº«é“¾æ¥ ",-1))])])]),a[5]||(a[5]=e("p",{class:"text-xs text-green-700 text-center"}," åˆ†äº«æˆ¿é—´ç ç»™æœ‹å‹ï¼Œè®©ä»–ä»¬åŠ å…¥æ¸¸æˆ ",-1))])}}}),Ee={key:0,class:"card"},Ke={class:"card-header"},Ue={class:"text-lg font-semibold text-gray-800 flex items-center"},We={class:"card-body"},Ze={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center"},Fe={class:"stat-item"},Je={class:"text-2xl font-bold text-primary-600"},qe={class:"stat-item"},He={class:"text-2xl font-bold text-green-600"},Oe={class:"stat-item"},Qe={class:"text-2xl font-bold text-blue-600"},Xe={class:"stat-item"},Ye={class:"text-2xl font-bold text-purple-600"},et={key:0,class:"mt-4 text-center text-sm text-gray-500"},tt=R({__name:"GameStats",props:{stats:{}},setup(D){const l=a=>{const r=Date.now()-a,g=Math.floor(r/(1e3*60)),m=Math.floor(r/(1e3*60*60)),$=Math.floor(r/(1e3*60*60*24));return g<1?"åˆšåˆš":g<60?`${g}åˆ†é’Ÿå‰`:m<24?`${m}å°æ—¶å‰`:`${$}å¤©å‰`};return(a,o)=>{const r=N;return a.stats?(u(),p("div",Ee,[e("div",Ke,[e("h2",Ue,[i(r,{name:"chart-bar",class:"w-5 h-5 mr-2"}),o[0]||(o[0]=x(" æ¸¸æˆç»Ÿè®¡ ",-1))])]),e("div",We,[e("div",Ze,[e("div",Fe,[e("div",Je,c(a.stats.totalGames||0),1),o[1]||(o[1]=e("div",{class:"text-sm text-gray-600"},"æ€»å±€æ•°",-1))]),e("div",qe,[e("div",He,c(a.stats.wins||0),1),o[2]||(o[2]=e("div",{class:"text-sm text-gray-600"},"èƒœåˆ©",-1))]),e("div",Oe,[e("div",Qe,c(a.stats.winRate||0)+"% ",1),o[3]||(o[3]=e("div",{class:"text-sm text-gray-600"},"èƒœç‡",-1))]),e("div",Xe,[e("div",Ye,c(a.stats.totalScore||0),1),o[4]||(o[4]=e("div",{class:"text-sm text-gray-600"},"æ€»ç§¯åˆ†",-1))])]),a.stats.lastPlayed?(u(),p("div",et," ä¸Šæ¬¡æ¸¸æˆ: "+c(l(a.stats.lastPlayed)),1)):w("",!0)])])):w("",!0)}}}),st=L(tt,[["__scopeId","data-v-4fae7f37"]]),ot={class:"min-h-screen flex flex-col"},nt={class:"relative text-center py-8"},at={class:"absolute top-4 right-4 flex items-center space-x-4"},rt={class:"flex items-center space-x-3 bg-white rounded-lg shadow-md px-4 py-2"},lt={class:"text-sm"},it={class:"font-medium text-gray-900"},ct={class:"flex-1 flex items-center justify-center px-4"},dt={class:"w-full max-w-2xl space-y-8"},mt={class:"card"},ut={class:"card-header"},gt={class:"text-xl font-semibold text-gray-800 flex items-center"},ft={class:"card-body"},pt={class:"card"},xt={class:"card-header"},vt={class:"text-xl font-semibold text-gray-800 flex items-center"},yt={class:"card-body space-y-6"},_t={class:"space-y-3"},bt=["disabled"],ht={class:"space-y-3"},wt={class:"flex space-x-3"},$t=["disabled"],kt={class:"text-sm text-gray-500 space-y-1"},Ct={class:"flex items-center"},It={class:"flex items-center"},St={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},At={class:"flex items-center justify-between p-6 border-b border-gray-200"},Rt={class:"p-6"},jt=R({__name:"index",setup(D){const l=X(),a=Y();ee();const o=h(""),r=h(!1),g=h(!1),m=h(""),$=h(!1),k=h(!1),v=S(()=>o.value.length===6&&/^[A-Z0-9]{6}$/.test(o.value)),f=S(()=>l.playerStats),_=S(()=>l.playerName),y=S(()=>!1),b=async n=>{try{await l.startAIGame(n),await G("/game")}catch(t){console.error("å¯åŠ¨AIæ¸¸æˆå¤±è´¥:",t),l.showNotification({type:"error",title:"å¯åŠ¨å¤±è´¥",message:"æ— æ³•å¯åŠ¨AIæ¸¸æˆï¼Œè¯·é‡è¯•"})}},B=async()=>{if(!r.value){r.value=!0;try{const n=await a.createRoom();m.value=n,l.showNotification({type:"success",title:"æˆ¿é—´åˆ›å»ºæˆåŠŸ",message:`æˆ¿é—´ç : ${n}`}),await G(`/room/${n}`)}catch(n){console.error("åˆ›å»ºæˆ¿é—´å¤±è´¥:",n),l.showNotification({type:"error",title:"åˆ›å»ºå¤±è´¥",message:"æ— æ³•åˆ›å»ºæˆ¿é—´ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"})}finally{r.value=!1}}},M=async()=>{if(!(!v.value||g.value)){g.value=!0;try{await a.joinRoom(o.value),await G(`/room/${o.value}`)}catch(n){console.error("åŠ å…¥æˆ¿é—´å¤±è´¥:",n),l.showNotification({type:"error",title:"åŠ å…¥å¤±è´¥",message:"æˆ¿é—´ä¸å­˜åœ¨æˆ–å·²æ»¡å‘˜ï¼Œè¯·æ£€æŸ¥æˆ¿é—´ç "})}finally{g.value=!1}}},z=n=>{const t=n.target;t.value=t.value.toUpperCase().replace(/[^A-Z0-9]/g,""),o.value=t.value},E=n=>{if(!n)return"?";const t=n.trim();return/^[\u4e00-\u9fa5]/.test(t)?t.charAt(t.length-1):t.charAt(0).toUpperCase()},K=n=>{if(!n)return"#6b7280";let t=0;for(let I=0;I<n.length;I++)t=n.charCodeAt(I)+((t<<5)-t);const d=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)","linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)","linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)","linear-gradient(135deg, #ff8a80 0%, #ea6100 100%)","linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)"];return d[Math.abs(t)%d.length]},U=n=>{k.value=!1,console.log("ç©å®¶åç§°å·²ä¿å­˜:",n)},W=n=>{console.log("è®¾ç½®å·²ä¿å­˜:",n)},Z=async()=>{try{const{getDeviceInfo:n}=await ce(async()=>{const{getDeviceInfo:d}=await import("./BvpZXrTE.js");return{getDeviceInfo:d}},[],import.meta.url),t=await n();l.showNotification({type:"info",title:"è®¾å¤‡ä¿¡æ¯",message:`è®¾å¤‡ID: ${t.deviceId}`,duration:5e3}),console.log("è®¾å¤‡ä¿¡æ¯:",t)}catch(n){console.error("è·å–è®¾å¤‡ä¿¡æ¯å¤±è´¥:",n)}},F=async n=>{try{await navigator.clipboard.writeText(n),l.showNotification({type:"success",title:"å¤åˆ¶æˆåŠŸ",message:"æˆ¿é—´ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"})}catch(t){console.error("å¤åˆ¶å¤±è´¥:",t)}},J=async n=>{const t=`${window.location.origin}/room/${n}`;if(navigator.share)try{await navigator.share({title:"æ–—åœ°ä¸»æ¸¸æˆé‚€è¯·",text:`æ¥å’Œæˆ‘ä¸€èµ·ç©æ–—åœ°ä¸»å§ï¼æˆ¿é—´ç : ${n}`,url:t})}catch{}else try{await navigator.clipboard.writeText(t),l.showNotification({type:"success",title:"é“¾æ¥å·²å¤åˆ¶",message:"æˆ¿é—´é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"})}catch(d){console.error("å¤åˆ¶é“¾æ¥å¤±è´¥:",d)}};return V(()=>{}),te({title:"æ–—åœ°ä¸»ç½‘æ¸¸ - æ¸¸æˆå¤§å…",description:"é€‰æ‹©AIå¯¹æˆ˜æˆ–åˆ›å»ºæˆ¿é—´ä¸æœ‹å‹è”æœºï¼Œäº«å—ç»å…¸æ–—åœ°ä¸»æ¸¸æˆ",keywords:"æ–—åœ°ä¸»,åœ¨çº¿æ¸¸æˆ,AIå¯¹æˆ˜,æœ‹å‹è”æœº"}),(n,t)=>{const d=N,I=Pe,q=ze,H=st,O=de,Q=me;return u(),p("div",ot,[e("header",nt,[e("div",at,[e("div",rt,[e("div",{class:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-lg cursor-pointer",style:se({background:K(s(_))}),onClick:t[0]||(t[0]=C=>k.value=!0),title:"ç‚¹å‡»ä¿®æ”¹åç§°"},c(E(s(_))),5),e("div",lt,[e("div",it,c(s(_)),1),t[6]||(t[6]=e("div",{class:"text-xs text-gray-500"},"ç‚¹å‡»å¤´åƒä¿®æ”¹",-1))])]),e("button",{onClick:t[1]||(t[1]=C=>$.value=!0),class:"p-2 bg-white rounded-lg shadow-md hover:bg-gray-50 transition-colors",title:"æ¸¸æˆè®¾ç½®"},[i(d,{name:"settings",class:"w-5 h-5 text-gray-600"})]),s(y)?(u(),p("button",{key:0,onClick:Z,class:"p-2 bg-white rounded-lg shadow-md hover:bg-gray-50 transition-colors",title:"è®¾å¤‡ä¿¡æ¯"},[i(d,{name:"info",class:"w-5 h-5 text-gray-600"})])):w("",!0)]),t[7]||(t[7]=e("h1",{class:"text-4xl md:text-6xl font-bold text-gray-800 mb-2"}," ğŸ® æ–—åœ°ä¸»ç½‘æ¸¸ ",-1)),t[8]||(t[8]=e("p",{class:"text-lg text-gray-600"}," è½»é‡åŒ–åœ¨çº¿æ–—åœ°ä¸»ï¼Œæ”¯æŒAIå¯¹æˆ˜å’Œå¥½å‹è”æœº ",-1))]),e("main",ct,[e("div",dt,[e("div",mt,[e("div",ut,[e("h2",gt,[i(d,{name:"robot",class:"w-6 h-6 mr-2"}),t[9]||(t[9]=x(" ğŸ¤– æœ¬åœ°AIå¯¹æˆ˜ ",-1))])]),e("div",ft,[t[10]||(t[10]=e("p",{class:"text-gray-600 mb-4"}," ä¸æ™ºèƒ½AIè¿›è¡Œæ–—åœ°ä¸»å¯¹æˆ˜ï¼Œæ— éœ€ç½‘ç»œè¿æ¥ ",-1)),i(I,{onStartGame:b})])]),e("div",pt,[e("div",xt,[e("h2",vt,[i(d,{name:"users",class:"w-6 h-6 mr-2"}),t[11]||(t[11]=x(" ğŸ‘¥ è”æœºå¯¹æˆ˜ ",-1))])]),e("div",yt,[t[14]||(t[14]=e("p",{class:"text-gray-600"}," ä¸æœ‹å‹ä¸€èµ·æ¸¸æˆï¼Œæ”¯æŒå±€åŸŸç½‘å’Œäº’è”ç½‘è¿æ¥ ",-1)),e("div",_t,[e("button",{onClick:B,disabled:s(r),class:"btn btn-primary btn-lg w-full flex items-center justify-center"},[i(d,{name:s(r)?"spinner":"plus",class:A(["w-5 h-5 mr-2",{"animate-spin":s(r)}])},null,8,["name","class"]),x(" "+c(s(r)?"åˆ›å»ºä¸­...":"åˆ›å»ºæˆ¿é—´"),1)],8,bt),s(m)?(u(),T(q,{key:0,"room-code":s(m),onCopyCode:F,onShareLink:J},null,8,["room-code"])):w("",!0)]),t[15]||(t[15]=oe('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white text-gray-500">æˆ–</span></div></div>',1)),e("div",ht,[e("div",wt,[ne(e("input",{"onUpdate:modelValue":t[2]||(t[2]=C=>le(o)?o.value=C:null),type:"text",placeholder:"è¾“å…¥6ä½æˆ¿é—´ç ",maxlength:"6",class:"input flex-1 text-center text-lg font-mono uppercase",onInput:z,onKeyup:re(M,["enter"])},null,544),[[ae,s(o)]]),e("button",{onClick:M,disabled:!s(v)||s(g),class:"btn btn-primary px-6 flex items-center"},[i(d,{name:s(g)?"spinner":"arrow-right",class:A(["w-5 h-5",{"animate-spin":s(g)}])},null,8,["name","class"])],8,$t)]),e("div",kt,[e("p",Ct,[i(d,{name:"wifi",class:"w-4 h-4 mr-1 text-green-500"}),t[12]||(t[12]=x(" åŒä¸€WiFi: ä½å»¶è¿Ÿï¼Œé€Ÿåº¦å¿« ",-1))]),e("p",It,[i(d,{name:"globe",class:"w-4 h-4 mr-1 text-blue-500"}),t[13]||(t[13]=x(" è·¨ç½‘ç»œ: æ”¯æŒä»»æ„ç½‘ç»œç¯å¢ƒ ",-1))])])])])]),s(f)?(u(),T(H,{key:0,stats:s(f)},null,8,["stats"])):w("",!0)])]),t[17]||(t[17]=e("footer",{class:"text-center py-6 text-sm text-gray-500"},[e("p",null,[x(" åŸºäºWebRTCæŠ€æœ¯ï¼Œæ”¯æŒP2Pç›´è¿ â€¢ "),e("a",{href:"https://github.com/your-repo",target:"_blank",class:"text-primary-600 hover:text-primary-700"}," å¼€æºé¡¹ç›® ")])],-1)),s($)?(u(),T(O,{key:0,onClose:t[3]||(t[3]=C=>$.value=!1),onSave:W})):w("",!0),s(k)?(u(),p("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[5]||(t[5]=ie(C=>k.value=!1,["self"]))},[e("div",St,[e("div",At,[t[16]||(t[16]=e("h2",{class:"text-lg font-semibold text-gray-900"},"ä¿®æ”¹ç©å®¶åç§°",-1)),e("button",{onClick:t[4]||(t[4]=C=>k.value=!1),class:"p-1 hover:bg-gray-100 rounded transition-colors"},[i(d,{name:"x",class:"w-5 h-5"})])]),e("div",Rt,[i(Q,{"current-name":s(_),onSave:U},null,8,["current-name"])])])])):w("",!0)])}}});export{jt as default};
